<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous">
  </script>
  <style>
    /* 섹션 크기 */
    .bg-light {
      height: 1053px;
      padding-top: 55px;
      padding-bottom: 75px;
    }

    .flex-fill.mx-xl-5.mb-2 {
      margin: 0 auto;
      width: 700px;
      padding-right: 7rem;
      padding-left: 7rem;
    }

    /* 입력창 */
    .container.py-4 {
      margin: 0 auto;
      width: 503px;
    }

    /* 가입하기 */
    .d-grid.gap-2 {
      padding-top: 30px;
    }

    /* 생년월일 */
    .bir_yy,
    .bir_mm,
    .bir_dd {
      width: 160px;
      display: table-cell;
    }

    .bir_mm+.bir_dd,
    .bir_yy+.bir_mm {
      padding-left: 10px;
    }

    /* 휴대전화 */
    .bir_phone {
      width: 357px;
      display: table-cell;

    }

    .bir_num {
      width: 142px;
      display: table-cell;
      padding-left: 10px;
    }
  </style>
</head>

<body>
  <section class="bg-light">
    <div class="container py-4">
      <div class="row align-items-center justify-content-between">
        <a class="navbar-brand h1 text-center" href="index.do">
          <span class="text-dark h4">회원가입</span>
        </a>
      </div>
      <form>
        <div class="form-group">
          <label for="exampleInputEmail1" class="form-label mt-4">아이디 *</label>
          <input type="text" class="form-control" id="exampleInputEmail1" onblur="id_check()"
            aria-describedby="emailHelp">
          <span id="email-check"></span>
        </div>

        <div class="form-group">
          <label class="form-label mt-4" for="inputValid">비밀번호 *</label>
          <input type="password" class="form-control" id="inputValid" onblur="inputValid_check()">
          <span id="pass-check"></span>
        </div>

        <div class="form-group">
          <label class="form-label mt-4" for="inputInvalid">비밀번호 확인 *</label>
          <input type="password" class="form-control" id="inputInvalid" onblur="pass_check()">
          <span id="pass-equal-check"></span>
        </div>

        <div class="form-group">
          <label for="exampleInputEmail1" class="form-label mt-4">이름 *</label>
          <input type="text" class="form-control" id="exampleInputName1" aria-describedby="emailHelp" onblur="name_check()">
          <span id="name-check"></span>
        </div>
        <div class="bir_wrap">
          <label class="form-label mt-4">생년월일</label>
          <div class="bir_yy">
            <span class="ps_box">
              <input type="text" class="form-control" id="yy" placeholder="년(4자)" maxlength="4">
            </span>
          </div>
          <div class="bir_mm">
            <span class="ps_box focus">
              <select class="form-select" id="mm" id="exampleSelect1">
                <option>월</option>
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
                <option>6</option>
                <option>7</option>
                <option>8</option>
                <option>9</option>
                <option>10</option>
                <option>11</option>
                <option>12</option>
              </select>
            </span>
          </div>
          <div class="bir_dd">
            <span class="ps_box">
              <input type="text" class="form-control" id="dd" placeholder="일" maxlength="2">
            </span>
          </div>
        </div>
        <div class="form-group">
          <label for="exampleSelect1" class="form-label mt-4">성별</label>
          <select class="form-select" id="exampleSelect1">
            <option>남자</option>
            <option>여자</option>
          </select>
        </div>
        <div class="form-group">
          <label for="exampleInputEmail1" class="form-label mt-4">휴대전화</label>
          <select class="form-select" id="exampleSelect1">
            <option>대한민국 +82</option>
            <option>미국 +1</option>
            <option>캐나다 +1</option>
            <option>프랑스 +33</option>
            <option>필리핀 +63</option>
            <option>러시아 +63</option>
            <option>독일 +49</option>
            <option>스위스 +41</option>
            <option>영국 +44</option>
            <option>일본 +81</option>
          </select>
          <div class="bir_phone">
            <span class="ps_box">
              <input type="email" class="form-control mt-1" id="exampleInputEmail1" aria-describedby="emailHelp"
                placeholder="전화번호 입력">
            </span>
          </div>
          <div class="bir_num">
            <span class="ps_box">
              <button class="btn btn-primary" type="button">인증번호 받기</button>
            </span>
          </div>
          <input type="text" class="form-control mt-1" placeholder="인증번호 입력하세요">
        </div>
        <div class="d-grid gap-2">
          <button class="btn btn-primary btn-lg" type="button">가입하기</button>
        </div>
      </form>
    </div>
  </section>
</body>
<script>
  const inputValid_check = () => {
    const inputValid = document.getElementById("inputValid").value;
    console.log(inputValid);
    //정규식 정의
    const exp = /^(?=.*[A-Z])(?=.*[a-z])(?=.*[\d])(?=.*[-_!#])[A-Za-z\d-_!#]{6,12}$/;
    // 정규식 만족여부 체크

    const pwEqualCheck = document.getElementById("pass-check");

    if(inputValid.length == 0){

    } else if (inputValid.match(exp)) {
      console.log("정규식 만족");
      pwEqualCheck.innerHTML = "적합한 비밀번호입니다.";
      pwEqualCheck.style.color = "green";
    } else {
      console.log("정규식 만족하지 않음");
      pwEqualCheck.innerHTML = "숫자, 영어 대소문자, 특수문자(-_!#)를 조합한 6~12자로 입력하세요.";
      pwEqualCheck.style.color = "red";
    }
  }

  const pass_check = () => {
    const password = document.getElementById("inputValid").value;
    const passRe = document.getElementById("inputInvalid").value;

    const pwEqualCheck = document.getElementById("pass-equal-check");
    console.log(password.length);
    if (password.length == 0) {

    } else if (password == passRe) {
      pwEqualCheck.innerHTML = "비밀번호가 일치합니다.";
      pwEqualCheck.style.color = "green";
    } else {
      pwEqualCheck.innerHTML = "비밀번호가 일치하지 않습니다.";
      pwEqualCheck.style.color = "red";

    }
  }

  const id_check = () => {
    const email = document.getElementById("exampleInputEmail1").value;
    const emailCheck = document.getElementById("email-check");
    console.log(email.length);

    if (email.length == 0) {
      emailCheck.innerHTML = "필수 입력입니다!";
      emailCheck.style.color = "red";
    }
  }

  const name_check = () => {
    const name = document.getElementById("exampleInputName1").value;
    const nameCheck = document.getElementById("name-check");
    console.log(name.length);

    if(name.length == 0){
      nameCheck.innerHTML = "필수 입력입니다!";
      nameCheck.style.color = "red";
    }
  }
</script>

</html>